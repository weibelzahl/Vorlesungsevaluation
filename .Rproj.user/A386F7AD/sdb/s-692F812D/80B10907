{
    "collab_server" : "",
    "contents" : "library(shiny)\nlibrary(ggplot2)\n# options(error=recover)\n\nshinyServer(function(input, output) {\n\n  output$downloadPDF <-\n    downloadHandler(\n      filename = function() {\n        paste(\"Vorlesungsevaluation_\", paste(as.character(input$kategorie)), \".pdf\", sep = \"\")\n      },\n      content = function(file) {\n        # get file\n        inFile <- input$data_vorlesung\n\n        # hand over config\n        studiengang_modul_id <- paste(as.character(input$kategorie))\n        datum <- paste(\"\", format(input$date2, format = \"%d.%m.%Y\"))\n\n        # generate PDF\n        library(knitr)\n        knit2pdf(\"generic_vorlesung_mini.rnw\", encoding = \"UTF-8\")\n\n        # copy pdf to 'file'\n        file.copy(\"generic_vorlesung_mini.pdf\", file)\n        \n        # delete generated files\n        file.remove(\n          \"generic_vorlesung_mini.pdf\", \n          \"generic_vorlesung_mini.tex\",\n          \"generic_vorlesung_mini.aux\", \n          \"generic_vorlesung_mini.log\",\n          \"generic_vorlesung_mini.toc\"\n        )\n        \n        # delete folder with plots\n        unlink(\"figure\", recursive = TRUE)\n      },\n      contentType = \"application/pdf\"\n    )\n})\n",
    "created" : 1489918598955.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "588852383",
    "id" : "80B10907",
    "lastKnownWriteTime" : 1489918457,
    "last_content_update" : 1489918457,
    "path" : "~/GitHub/Vorlesungsevaluation/server.r",
    "project_path" : "server.r",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}